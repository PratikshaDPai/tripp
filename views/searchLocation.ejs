<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Location Search</title>
  </head>
  <body>
    <h1>Search Locations</h1>

    <form action="/search/locations" method="get">
      <input
        type="text"
        name="q"
        placeholder="Search locations"
        value="<%= query %>"
        required
      />
      <button type="submit">Search</button>
    </form>

    <% if (results.length > 0) { %>
    <h2>Search Results</h2>
    <ul>
      <% results.forEach(result => { %>
      <li>
        <p>
          <%= result.location %>
        </p>
        <p>
          <ul>
            <% result.activities.forEach(activity => { %>
              <li>
                <p>
                  <%= activity.title.replaceAll('"', " ") %>
                </p>
                <p>
                  <img src="<%= activity.imageUrl %>">
                </p>
              </li>
              <% }) %>
          </ul>
        </p>
      </li>
      <% }) %>
    </ul>
    <% } else { %>
    <p>No results found</p>
    <% } %>
  </body>
</html>
